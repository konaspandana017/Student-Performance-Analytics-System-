<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>{% block title %}Analytics{% endblock %}</title>
        <style>
            :root{
                --bg:#F6F1EB;
                --bg2:#F2EAE2;
                --card:#FFFFFFCC;
                --text:#1F2937;
                --muted:#6B7280;
                --border:#E6DDD3;
                --accent:#8B6F47;
                --accent2:#C8A97E;
                --shadow: 0 18px 55px rgba(31,41,55,.12);
                --shadow2: 0 10px 28px rgba(31,41,55,.10);
                --radius: 18px;
            }

            *{ box-sizing:border-box; }
            body{
                margin:0;
                font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
                color:var(--text);
                background:
                    radial-gradient(900px 500px at 15% 20%, var(--bg2), transparent 60%),
                    radial-gradient(900px 500px at 90% 10%, #EFE7DE, transparent 55%),
                    radial-gradient(900px 500px at 85% 85%, #F0E6DD, transparent 55%),
                    var(--bg);
                min-height:100vh;
            }

            .topbar{
                position: sticky;
                top:0;
                z-index:5;
                backdrop-filter: blur(10px);
                background: rgba(246,241,235,.75);
                border-bottom: 1px solid rgba(230,221,211,.85);
            }
            .topbar-inner{
                max-width: 1100px;
                margin: 0 auto;
                padding: 14px 18px;
                display:flex;
                align-items:center;
                justify-content:space-between;
                gap:12px;
            }
            .brand{ display:flex; align-items:center; gap:10px; }
            .logo{
                width:38px;
                height:38px;
                border-radius: 14px;
                background: linear-gradient(135deg, rgba(139,111,71,.18), rgba(200,169,126,.22));
                border: 1px solid rgba(230,221,211,.9);
                box-shadow: var(--shadow2);
                display:flex;
                align-items:center;
                justify-content:center;
                font-weight:800;
                color: var(--accent);
            }
            .brand h1{ margin:0; font-size:15px; font-weight:800; }
            .brand p{ margin:2px 0 0; font-size:12px; color: var(--muted); }
            .userbox{ display:flex; align-items:center; gap:10px; color: var(--muted); font-size:13px; }
            .pill{ font-size:12px; padding: 6px 10px; border-radius: 999px; border:1px solid rgba(230,221,211,.9); background: rgba(200,169,126,.18); color: var(--accent); font-weight:800; }
            .btn{
                border:none; cursor:pointer; border-radius: 12px; padding: 9px 12px;
                font-weight:750; font-size:13px; color:#fff;
                background: linear-gradient(135deg, rgba(139,111,71,.95), rgba(200,169,126,.95));
                text-decoration:none; display:inline-flex; align-items:center; justify-content:center;
            }
            .container{ max-width: 1100px; margin: 0 auto; padding: 22px 18px 40px; }
            .card{ background: var(--card); border: 1px solid rgba(230,221,211,.85); border-radius: var(--radius); box-shadow: var(--shadow2); padding: 16px; }
            .links{ display:flex; flex-wrap:wrap; gap:10px; margin-bottom: 14px; }
            .link{
                text-decoration:none; color: var(--text); font-weight:800; font-size:13px;
                padding: 10px 12px; border-radius: 14px; border: 1px solid rgba(230,221,211,.85); background: rgba(255,255,255,.75);
            }
            table{ width:100%; border-collapse: collapse; }
            th, td{ text-align:left; border-bottom: 1px solid rgba(230,221,211,.95); padding: 10px; }
            h2, h3, p{ margin-top:0; }
            @media (max-width: 900px){ .userbox{ display:none; } }
        </style>
</head>
<body>
    <div class="topbar">
        <div class="topbar-inner">
            <div class="brand">
                <div class="logo">SPS</div>
                <div>
                    <h1>Student Performance Analytics</h1>
                    <p>Analytics module</p>
                </div>
            </div>
            <div class="userbox">
                <span><b>{{ request.user.username }}</b></span>
                <span class="pill">{% if request.user.is_superuser %}Admin{% elif request.user.is_staff %}Teacher{% else %}Student{% endif %}</span>
                <a class="btn" href="{% url 'logout' %}">Logout</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="card">
            <div class="links">
                <a class="link" href="{% url 'analytics_home' %}">Analytics Home</a>
                <a class="link" href="{% url 'performance' %}">Performance</a>
                <a class="link" href="{% url 'reports' %}">Reports</a>
                <a class="link" href="{% url 'suggestions' %}">Suggestions</a>
                <a class="link" href="{% url 'role_redirect' %}">Main Dashboard</a>
                {% if request.user.is_superuser %}
                    <a class="link" href="{% url 'analytics_admin_overview' %}">Admin Overview</a>
                    <a class="link" href="{% url 'analytics_admin_students' %}">Admin Students</a>
                {% endif %}
            </div>
            {% block content %}{% endblock %}
        </div>
    </div>
</body>
</html>